DES & 트리플 DES 블록 길이 : 64비트
DES: 64비트 평문, 64비트 암호문
AES: 블록 길이 128비트, 192비트, 256비트

# 1. 문자 암호애서 비트열 암호로

## 1.1 부호화

- 암호화에 컴퓨터 사용이 필수적임. ----> 외우자.

### ASCII

- 소문자 a는 97임

## 1.2 XOR

- 다르면 1, 같으면 0

# 2. 일회용 패드- 절대 해독 불가능한 암호

## 2.1 일회용 패드란?

- one-time pad
- 전사공격으로 키 공간을 모두 탐색해도 해독할 수 없는 암호

## 2.2 일회용 패드의 암호화

- 평문과 랜덤 비트열을 XOR만 하는 단순한 암호
- 평문을 ASCII로 부호화함
- 키는 랜덤 비트열임

## 2.3 일회용 패드의 복호화

- 암호문에 다시 키를 XOR

## 2.4 일회용 패드는 해독할 수 없다

- 키 공간이 너무 커서 현실적인 시간 내에 해독이 곤란하다는 뜻만은 아니다.
- 무한대의 계산력을 갖는 컴퓨터로도 일회용 패드는 해독할 수 없다. -> 즉 해독을 해도 무의미하다는 뜻임
- 왜냐면 문자열을 복호화했다고 하더라도 그 문자열들 중 뭐가 바른 평문인지 판정할 수 없기 때문임

### 전사공격

- 한 문자는 1바이트(8비트)임
- 암호문을 복호화면 도중에 모든 64비트(8바이트. 즉 8글자) 패턴이 등장함
- ex. aaaaaaaa, abcdefgh, zzzzzzzz 등의 규칙적인 문자열도 될수 있고
- midnight, onenight, mistress 등 의미있는 단어도 될 수도 잇고
- 무의미하한 문자열이 될 수도 잇다.
- 즉 어떤 것이 바른 평문인지 알 수 없다.
- 바르게 복호화한것이 뭔지 알수 없다.

## 2.5 그렇다면 일회용 패드는 왜 사용되지 않을까?

- 키 배송 이슈: 키를 안전하게 보내는 방법이 있다면 차라리 대신 평문을 보내면 된다
- 키 보존 이슈: 평문 길이의 키를 보존하는 데 어려움이 있음
- 키 재사용 이슈: 키를 재사용할 수 없음
- 키 동기화 이슈: 송신자의 키가 수신자의 키와 정확히 같아야한다. 한 비트라도 달라지면 전혀 다른 평문이 나온다.
- 키 생성 이슈: 길고 안전한 키의 생성이 어려움
- 즉 일회용 패드의 사용은 키 생성과 배송에 막대한 비용과 노력이 필요하므로, 비용과 상관없이 기밀성이 최우선일때만 사용
  EX) 강대국끼리의 핫라인
- 실제 스트림 암호에 활용함 -----> 걍외우기.

# 3. DES

## 3.1 DES란?

- Data Encryption Standard는 1977년에 미국의 연방 정보 처리 표준 규격(FIPS)으로 채택된 "대칭 암호"
- 전사 공격으로 해독할 수 있는 수준임(그래서 안쓴다고 외우자.)
- 64비트 키(사실상 56비트임)를 적용하여 64비트 평문을 64비트 암호문으로 변환
- 대칭형 블록 암호임
- DES 알고리즘에서 사용하는 함수: 대체(substitution), 치환(permutation)
- 대체와 치환은 shnon이 제시한 혼돈과 확산이라는 두 가지 개념에 기반을 두고 있음

### DES 콘테스트 -> 걍 읽어보기

## 3.2 DES의 암복호화

- 키는 56비트
- 64비트 평문을 한 단위로 암호화

## 3.3 DES의 구조 (근데 이런 문제 안나올거같은데??)

- 단순 DES로 설명
- 8비트 평문 블록을 10비트 키를 사용해 8비트 암호문으로 변환
- 복호화는 암호화와 구조가 똑같음
- 잘 모르겠음.... 시험에 안나오겠지?
- 쉐도우 효과가 있음
- 블록 암호임
- Fesitel 암호 방식임
- 함수이름 순서만 외울까? 몇비트인지랑?

### 쉐도우 효과(Avalanche Effect)

- 평문이나 키의 작은 변화가 암호문에 대해 중요한 변화를 일으키는 암호

### 블록 암호

- 실제로는 긴 길이의 평문을 암호화하기 위해서 평문을 64비트 블록으로 나누고 각각을 DES로 암호화함
- 스트림 암호는 한 번에 1비트 혹은 1바이트의 스트림을 암호화함
- 블록 암호기법은 모드를 이용한 스트림 암호 기법과 동일한 효과를 가짐
- 블록 암호 중 Feistel 구조:
  - shannon에 의하면 매우 이상적인 암호는 암호문에 대한 모든 통계적 정보가 사용된 키와 독립적이어야 한다. 즉, 통계적 분석에 기초한 암호해독을 방지해야 한다고 주장.
    혼돈: 키를 발견하기 어렵게 하기 위해 암호문에 대한 통계 값과 키 값 사이에 관계를 가능한 복잡하게 하는 것 (혼돈은 암키)
    확산: 키를 추론하기 어렵게 하기 위해 평문과 암호문 사이에 통계적인 관계를 가능한 복잡하게 만드는 것 (확산은 평암)

## 3.4 Feistel 암호 구조 (암기필수)

- 특성:
  - 원하는 만큼 라운드 수를 늘릴 수 있음
  - 라운드 함수 F에 어떤 함수를 사용해도 복호화가 가능하다
  - 암호화와 복호화를 완전히 동일한 구조로 실현할 수 있다 ---> 중요
- 블록크기는 64비트가 일반적이나 현재는 가변적임'
- 키 크기는 64비트 혹은 128비트임
- 일반적으로는 16회 라운드, 반복 많이 할수록 안전함
- 서브키 생성 알고리즘이 복잡할수록 암호 해독이 어려움 -> 암기
- 반복 함수가 복잡할수록 암호해독이 어려움 -> 암기
- 빠르게 암/복호화 가능함
- 분석이 용이함

## 3.5 DES 공격법: 차분 해독법과 선형 해독법

차분 해독법(Differential Cryptanalysis):

- 평문의 일부를 변경하면 암호문이 어떻게 변화하는지 조사
- 블록암호는 평문이 1비트라도 달라지면 암호문은 전혀 달라짐
- 이러한 암호문의 변화틀을 조사하여 해독의 실마리를 얻음

선형 해독법(Linear Cryptanalysis):
-> 그러면 평문과 암호문 대응되는 쌍 정보가 있어야겠네? 이미 잇으니까 키에 관한 정보를 얻는거겠지

- 평문과 암호문을 몇개 XOR 해서 0이 되는 확률을 조사
- 암호문이 충분히 랜덤하다면 위 겨로가가 0이 될 확률은 1/2
- 1/2로 부터 크게 벗어난 비트의 개수를 조사하여 "키"에 관한 정보를 얻음

- DES는 두 공격법을 통해 "해독"이 가능 --- 암기
- AES 기반 현대 블록 암호는 차분/선형 해독법에 대해 안전함

# 4. 트리플 DES(3-DES)

## 4.1 트리플 DES란?

- DES가 전사공격으로 현실적인 시간내에 해독되기 때문에 대신할 블록암호가 필요해서 개발된 암호
- DES를 3단 겹침

## 4.2 트리플 DES 암호화

평문 -> 키1 -> 암호화 -> 키2 -> 복호화 -> 키3 -> 암호화 -> 암호문 --> 암기

- 트리플 DES의 키는 168비트임
- 키1, 키2, 키3가 서로 같다면 앞의 두 암호화와 복호화는 없는거나 마찬가지. 즉 그냥 DES가 됨. 따라서 트리플 DES는 DES로도 사용할 수가 있는 것임

### 트리플 DES 종류

- DES: 트리플 DES에서 모든 키가 같은 경우
- DES-EDE2: 트리플 DES에서 키1과 키3가 같은 경우 (이름이 2니까 2만 다르다고 암기)
- DES-EDE3: 트리플 DES에서 모든 키가 다른 경우 (이름이 3니까 3개 다 다르다고 암기)

## 4.4 트리플 DES 복호화

암호문 -> 키3 -> 복호화 -> 키2 -> 암호화 -> 키1 -> 복호화 -> 평문 --> 암기

## 4.4 트리플 DES의 현황 ---> 암기 해야됨

- 처리속도가 빠르지 않음
- 안전성 면에서도 풀린 사례가 있음
- 우리나라의 국가 표준은 3-DES가 아닌 SEED와 ARIA ---> 외우기

# 5. AES 선정 과정

## 5.1 AES란?

- Advanced Encryption Standard
- 표준 대칭 암호 알고리즘( 4장이 대칭암호니까 여기서 소개한 암호는 대칭암호임)
- 후보로 여러 대칭 암호 알고리즘이 있었지만 그 중에서 Rijndael이 2000년에 AES로 선정되었음.

## 5.2 AES 선정 과정

- NIST(National Institute of Standards and Technology)에서 공모
- 경쟁 방식
- AES로 선정되기위한 조건:
  - 제한 없음, 무료로 이용
  - ANSI(미국 규격 협회) C와 Java로 구현이 가능할 것
  - 암호 해독에 대한 강도를 평가해야 함
  - 암호 알고리즘 설계 규격과 프로그램을 공개해야함

## 5.3 AES 최종 후보 및 선정

2차 심사 통과: 5개 ->ppt 보기
최종 선정된건 Rijdael임

# 6. Rijndael

## 6.1 Rijndael이란?

- 벨기에 연구자, 블록암호임(4장은 대칭암호라고 했지 블록암호라고는 안했으니 블록암호임을 외우자.)
- 블록 길이는 128비트임.
- 키 길이는 128비트, 192비트, 256비트로 선택 가능

## 6.2 Rijndael의 암호화와 복호화

- 여러 라운드로 구성(10-14개)
- SPN(Substitution-Permutation Network) 구조임. 즉 Feistel 구조가 아님 ---> 무조건 외우자.....
- SubBytes: 바이트 대체
- ShiftRows: 행 이동
- MixColumns: 열 섞기
- AddRoundKey: 라운드 키 덧셈

복호화:
AddRoundKey -> InvMixColumns -> InvShiftRows -> InvSubBytes -> AddRoundKey

## 6.3 Rijndael의 해독

- Rjhndael 알고리즘의 수학적 구조
  수식을 수학적인 조작에 의해 풀 수 있다면, Rijndael을 수학적으로 해독할 수 있을 것.
- Rijndael에 대한 유효한 공격은 현재로서 발견되지 않음(발견이 안됐으니까 AES로 쓰고 있다고 암기)

## 6.4 어떤 암호를 사용하면 좋은가?

- DES:
  - 사용하지 말것
  - 그러나 과거 소프트웨어와의 호환성 유지를 위해 필요함
- 트리플 DES:
  - 안전성 및 호환성(그냥 외우자) 때문에 미사용이 권고됨
  - AES로 대체됨
- AES(Rijndael):
  - 고속임
  - 다양한 플랫폼
  - 현재까지 안전
  - 사용 권장 (걍 좋은건 다해당하는듯)
  - AES 최종 후보 5개도 사용 가능함

### 기타 대칭 암호 알고리즘 (전부 블록암호임)

- SEED: 한국에서 개발한 암호
- ARIA: SPN 구조, 입출력 크기와 가능한 키의 크기가 AES(Rijndael)와 동일함
- HIGHT: 경량 컴퓨터, 저전력 환경에서 사용
- LEA
- IDEA: 스위스에서 개발.
- RC5: 미국에서 개발. des보다 10배 빠름.
